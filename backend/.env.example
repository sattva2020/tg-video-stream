# Backend Environment Variables Example
# Copy this file to .env and fill in your values

# ==================== Database ====================
# Database connection URL (DB_PASSWORD is from root .env)
DATABASE_URL=postgresql://postgres:${DB_PASSWORD}@db:5432/telegram_db

# ==================== Redis ====================
REDIS_URL=redis://redis:6379

# ==================== Celery / Notifications Queue ====================
CELERY_BROKER_URL=${REDIS_URL}/0
CELERY_RESULT_BACKEND=${REDIS_URL}/1
NOTIFICATIONS_QUEUE=notifications
NOTIFICATIONS_WORKER_CONCURRENCY=5
NOTIFICATIONS_PREFETCH=1

# ==================== Notification Delivery Defaults ====================
NOTIF_RETRY_ATTEMPTS=3
NOTIF_RETRY_INTERVAL_SEC=30
NOTIF_TIMEOUT_HTTP_SEC=10
NOTIF_TIMEOUT_SMTP_SEC=15
NOTIF_FAILOVER_TIMEOUT_SEC=30
NOTIF_TEST_TIMEOUT_SEC=65
NOTIF_STORM_BATCH_SIZE=10
NOTIF_STORM_WINDOW_SEC=120

# ==================== JWT Authentication ====================
JWT_SECRET=change_this_secure_jwt_secret
ALGORITHM=HS256
# Token lifetime: 10080 min = 7 days, 1440 min = 24 hours, 30 min = dev/testing
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# ==================== Session Encryption ====================
SESSION_ENCRYPTION_KEY=change_this_secure_session_encryption_key

# ==================== Rate Limiting ====================
RATE_LIMIT_MAX=5
RATE_LIMIT_WINDOW=60

# ==================== Security ====================
# Enable Have I Been Pwned password check
HIBP_ENABLED=false

# ==================== OAuth2 (Google) ====================
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# ==================== URLs ====================
FRONTEND_BASE_URL=http://localhost:3000
BACKEND_BASE_URL=http://localhost:8000

# ==================== Logging ====================
LOG_LEVEL=INFO
