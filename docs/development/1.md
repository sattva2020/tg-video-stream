Предлагаю такой приоритетный план (на русском, как просили):

Стример обновляет status записей

Добавляем новый API‑метод (например, /api/playlist/{id}/status) или расширяем существующий POST /api/playlist/GET для обновления статуса (playing/queued/error).
Стример, перед началом воспроизведения, вызывает этот эндпоинт и устанавливает playing; при трансляции ошибки — error, после окончания — queued/played.
Дополнительно логируем переписки и обрабатываем таймауты (чтобы UI не зависал).
Тест: юнит/интеграция проверяет, что API сохраняет статус и фронт подтягивает его через существующий polling.
Playwright E2E тест

## Текущее состояние

- Стример теперь обновляет `status`/`duration` через `PATCH /api/playlist/{id}/status`, защищённый `X-Streamer-Token`.
- Добавлены smoke-тесты, которые мокируют HTTP и проверяют общение стримера с API.
- В `quickstart.md` описана ручная проверка обновлений (имитация вызова вручную и визуальная проверка статуса на UI).
- **[DONE]** Playwright E2E тест: `frontend/tests/e2e/playlist-status.spec.ts` проверяет, что UI корректно отображает статусы `queued`, `playing`, `played` при обновлении данных с бэкенда.

## Следующие шаги

**[DONE]** Улучшение производительности транскодирования

- **[DONE]** Исследуем FFMPEG_ARGS, добавляем буферизацию/параллельную очередь (например, отдельный воркер/канал).
  - Реализован `StreamQueue` в `streamer/queue_manager.py`.
  - Добавлены флаги `-preset ultrafast -tune zerolatency` для видео.
  - Добавлены флаги `-application lowdelay -frame_duration 20` для Opus аудио.
- **[DONE]** Настраиваем profile (битрейт, buffer_size) и проверяем на mix FLAC → MP3 (Latency <5s).
  - Профили в `streamer/audio_utils.py` обновлены.
- **[DONE]** Тестируем с реальным ffmpeg/streamer (smoke). Возможно, добавим автотест, который измеряет стартовую задержку.
  - Добавлены тесты `tests/perf/test_transcoding_latency.py` и `tests/perf/test_queue_manager.py`.

## Дальнейшие планы

- Интеграция с реальным Telegram (проверка в боевых условиях).
- Расширение поддержки форматов (Phase 6).
