# Release Notes — Role UI Fixes (Phase 7)

**Дата:** 2025-12-03  
**Фича:** `018-role-ui-fixes`  
**Компоненты:** Frontend (React + Vite)

## Сводка изменений

1. **Полировка ролей:** добавлены единые баррель-экспорты `frontend/src/types/index.ts` и `frontend/src/utils/index.ts`, что устраняет разнородные пути импорта (T032, T033).
2. **Навигация:** бейдж роли в `MobileNav.tsx` теперь использует `isAdminLike()` — никакой прямой проверки `UserRole.ADMIN`, что закрывает T035 и поддерживает модераторов/операторов.
3. **Пользовательская справка:** статическая страница `/docs/help` развёрнута внутри `frontend/public`, чтобы ссылка из пользовательского дашборда больше не вела на 404.
4. **Тестовая документация:** добавлен отчёт `tests/quickstart/role-validation.md`, фиксирующий прохождение чеклиста `quickstart.md` (T034).

## Проверки

| Тип | Команда | Статус | Детали |
|-----|---------|--------|--------|
| Unit | `npm run test:unit -- tests/unit/roleHelpers.test.ts` | ✅ PASS | 3 теста на `roleHelpers` подтверждают корректный выбор дашбордов и прав доступа. |
| E2E | `npm run test:ui` | ❌ FAIL | Большинство тестов остановились на шаге авторизации — локаторы `[data-testid="email-input"]` не появляются, вероятно из-за отсутствия тестового бэкенда или несоответствия data-testid. Необходимо повторить после обновления тестового окружения/фикса локаторов. Логи: `frontend/test-results/.../error-context.md`. |

## Рекомендации к релизу

1. **E2E-фиксы:** перед выкладкой либо поднять тестовый backend со страницей авторизации, либо адаптировать e2e-скрипты/seed для headless окружения.
2. **Smoke-план:** после восстановления логина обязательно пройти RBAC-сценарии из `tests/e2e/rbac.spec.ts`, чтобы убедиться, что модераторы и операторы получают новые панели.
3. **Документация:** ссылка на Help Center уже доступна; при следующей итерации стоит дополнить содержание разделом FAQ по OperatorDashboard.
4. **Коммуникации:** уведомить QA, что quickstart-чеклист закрыт и новая страница справки включена в сборку.
