# Feature Specification: Современный лендинг Telegram 24/7 Video Streamer

**Feature Branch**: `001-modern-home-design`  
**Created**: 2025-11-22  
**Status**: Draft  
**Input**: User description: "создай современный дизайн главной страницы в стиле \"Telegram 24/7 Video Streamer\" с единственной кнопкой \"вход\" с поддержкой тех языков, которые мы уже создали"

## User Scenarios & Testing *(mandatory)*

<!--
  IMPORTANT: User stories should be PRIORITIZED as user journeys ordered by importance.
  Each user story/journey must be INDEPENDENTLY TESTABLE - meaning if you implement just ONE of them,
  you should still have a viable MVP (Minimum Viable Product) that delivers value.
  
  Assign priorities (P1, P2, P3, etc.) to each story, where P1 is the most critical.
  Think of each story as a standalone slice of functionality that can be:
  - Developed independently
  - Tested independently
  - Deployed independently
  - Demonstrated to users independently
-->

### User Story 1 - Моментальный вход в экосистему (Priority: P1)

Гость заходит на главную страницу, видит фирменный блок "Telegram 24/7 Video Streamer" и единственную крупную кнопку "Вход", понимает ценностное предложение и переходит к аутентификации.

**Why this priority**: Без мгновенно понятного первого экрана пользователи теряют доверие и не доходят до авторизации, поэтому это ключ к конверсии.

**Independent Test**: Провести пользовательский тест, показывая только главную страницу; проверить, что респондент понимает сервис и нажимает CTA без прокрутки.

**Acceptance Scenarios**:

1. **Given** первый визит через десктоп, **When** страница загружается, **Then** пользователь видит бренд-блок, сообщение о бесшовном 24/7 стриме и единственную кнопку "Вход" в зоне первого экрана.
2. **Given** пользователь нажимает "Вход", **When** действие обрабатывается, **Then** он перенаправляется на текущий экран аутентификации `/login` без промежуточных шагов.

---

### User Story 2 - Локализованный опыт без перезагрузки (Priority: P2)

Гость с любым поддерживаемым языком (en, ru, uk, de) видит страницу на своём языке, может вручную переключиться и мгновенно получает обновлённые тексты и CTA.

**Why this priority**: Поддержка нескольких языков уже реализована в продукте; лендинг обязан её использовать, иначе снижается доверие аудитории из разных регионов.

**Independent Test**: Открыть страницу с каждым языковым кодом, убедиться в корректном авто-детекте и ручном переключении без перезагрузки.

**Acceptance Scenarios**:

1. **Given** браузер с немецким языком по умолчанию, **When** страница открывается, **Then** весь текст, список преимуществ и кнопка "Вход" отображаются на немецком.
2. **Given** пользователь переключает язык через селектор, **When** выбирает другой язык, **Then** контент обновляется локально без перезагрузки и сохраняет фокус клавиатуры на селекторе.

---

### User Story 3 - Иммерсивный фон с graceful degradation (Priority: P3)

Пользователь видит динамический 3D/видео фон, усиливающий бренд, но при ограничениях устройства страница автоматически переключается на статичный постер или градиент, не мешая CTA.

**Why this priority**: Иммерсивный фон усиливает узнаваемость бренда и поддерживает уникальность "24/7" сервиса, но может быть реализован после основного контента.

**Independent Test**: Проверить, что фон отображается на десктопе и мобильных, корректно деградирует до статичного изображения при низкой производительности.

**Acceptance Scenarios**:

1. **Given** устройство с мощным GPU и включённым WebGL, **When** страница загружается, **Then** пользователь видит динамический фон/3D-сцену (React Three Fiber ZenScene) без перекрытия CTA.
2. **Given** устройство с отключённым WebGL или `prefers-reduced-motion`, **When** страница загружается, **Then** фон автоматически заменяется на статичный `landing-poster.webp` или градиент без визуальных артефактов.

### Edge Cases

- Пользователь с языком, который не входит в список (например, es), должен увидеть fallback на английский и подсказку в language switcher о доступных локалях.
- При ширине экрана <320 px (вплоть до 280 px) весь контент складывается в один столбец без горизонтальной прокрутки, CTA растягивается на 100% и остаётся в первом viewport.
- Если загрузка WebGL/видео ассетов превышает 2 секунды или WebGL недоступен, автоматически показывается skeleton/градиент, ZenScene не стартует и текст не меняет layout.
- При отключённых пользовательских шрифтах интерфейс использует системные гарнитуры (`system-ui`, `Segoe UI`, `Roboto`), сохраняя исходный line-height и размеры CTA.
- Если локализация не содержит один или несколько пунктов преимуществ, блок автоматически заполняет отсутствующие записи английской версией, добавляя `lang="en"` и sr-only пояснение об ожидаемом переводе.

## Requirements *(mandatory)*

<!--
  ACTION REQUIRED: The content in this section represents placeholders.
  Fill them out with the right functional requirements.
-->

### Functional Requirements

- **FR-001**: Лэндинг обязан содержать единый hero-блок с названием "Telegram 24/7 Video Streamer", кратким описанием ценности (круглосуточная трансляция YouTube-плейлистов) и визуальным субстратом, видимым без прокрутки.
- **FR-002**: На странице должна быть единственная кнопка действия с локализованной подписью ("Вход"/"Enter"/"Увійти"/"Eintreten"), ведущая на текущий маршрут аутентификации (`/login`), с hover/focus состояниями, aria-атрибутами и target-областью ≥44×44 px.
- **FR-003**: Автоопределение языка должно считывать заголовок `Accept-Language` (учитывая `q`-значения), сравнивать его с поддерживаемой матрицей (en, ru, uk, de), кэшировать выбор в `localStorage` и немедленно обновлять страницу без перезагрузки; fallback при нераспознанном языке всегда `en`, при этом language switcher подсвечивает подсказку доступных локалей.
- **FR-004**: Hero-блок обязан применять gradient token `brand-glow` и blur-токены из `frontend/tailwind.config.js`, на WebGL-совместимых устройствах монтировать React Three Fiber сцену `ZenScene` (создаётся в рамках фичи) и сохранять фирменные цвета #0ea5e9/#1f2937; соответствие проверяется визуальными снапшотами Playwright и включает fallback стилей при отключении ZenScene. Градиент фиксируется как `linear-gradient(135deg, #38bdf8 0%, #0ea5e9 45%, #0f172a 100%)`, blur-токены: `landing-blur-md = 120px`, `landing-blur-lg = 240px`, оба распространяются через Tailwind-плагин. Иммерсивная сцена должна содержать минимум два параллакс-слоя (частицы + volumetric light), анимацию камерой в диапазоне ±12° и цикл движения 10–15 секунд без рывков.
- **FR-005**: Фон или анимация должны иметь грациозное ухудшение: WebGL/видео слой + fallback изображение + плоский цвет, выбираемые автоматически по поддержке браузера; WebGL-слой располагается под основным контентом (`z-index`, `pointer-events: none`), чтобы CTA и LanguageSwitcher всегда оставались кликабельными.
- **FR-006**: Макет должен быть полностью адаптивным от 320 px до десктопов 4K, обеспечивая сохранение пропорций иллюстраций и CTA в области первого экрана.
- **FR-007**: Все тексты и CTA должны соответствовать WCAG 2.1 AA по контрасту, а таргет кнопки — минимум 44x44 px; клавиатурная навигация должна позволять добраться до CTA за ≤3 таба (фокус проходит только через LanguageSwitcher → HeroSection links → CTA) и сохранять визуально различимый focus-ring.
- **FR-008**: Страница должна предоставлять короткий список преимуществ (3-4 пункта) или метрик сервиса, который адаптируется вместе с локализацией и повышает понимание продукта; при отсутствии перевода отдельного пункта он отображается на английском с пометкой `lang="en"` и ARIA-пояснением о временном fallback.

### Key Entities *(include if feature involves data)*

- **HeroContent**: Содержит заголовок, подзаголовок, supporting copy и ссылку CTA; связывается с медиа-ресурсами (фон, иллюстрации) и текущим языком.
- **LocalizationBundle**: Набор строк для каждого языка (en, ru, uk, de), включая название кнопки, преимущества и подписи к иллюстрациям; определяет fallback на en при отсутствии ключа.
- **VisualAsset**: Описывает фоновые анимации/изображения с указанием типа (WebGL, видео, статичный), путей к файлам и правилами деградации.

### Non-Functional Requirements

- **NF-001**: Первая отрисовка hero и CTA на эмуляции Moto G4 3G занимает ≤2 секунд (подтверждается Lighthouse скриптом `landing-lh.mjs`, см. SC-003).
- **NF-002**: WebGL-анимация держит ≥45 fps, а при отключении WebGL/prefers-reduced-motion fallback-постер или градиент появляется ≤500 мс без миганий; метрики снимаются Playwright-сценарием `frontend/tests/e2e/landing/landing-visual-metrics.spec.ts`, который логирует средний fps и latency в `specs/001-modern-home-design/quickstart.md`.
- **NF-003**: При блокировке пользовательских шрифтов страница автоматически переключается на стек `system-ui, Segoe UI, Roboto`, сохраняя размеры CTA и не допуская layout shift >2% (тест `landing-font-fallback.spec.ts`).
- **NF-004**: Контраст текста и CTA соответствует WCAG 2.1 AA, а клавиатурный путь до CTA занимает ≤3 нажатий Tab (контролируется через axe-core Playwright сценарии).

## Success Criteria *(mandatory)*

<!--
  ACTION REQUIRED: Define measurable success criteria.
  These must be technology-agnostic and measurable.
-->

### Measurable Outcomes

- **SC-001**: 90% тестировщиков находят и нажимают кнопку "Вход" менее чем за 3 секунды после загрузки страницы без дополнительных подсказок.
- **SC-002**: Автодетект языка + ручное переключение выдают корректную локализацию в 95% случаев по тестовому набору браузеров.
- **SC-003**: Hero-блок и CTA отображаются полностью (с текстами и фоновой заливкой) за ≤2 секунд на мобильном 3G (Lighthouse, эмуляция Moto G4).
- **SC-004**: Не менее 80% опрошенных после просмотра первого экрана могут правильно описать ключевую пользу сервиса (круглосуточная трансляция YouTube плейлистов) без уточняющих вопросов.
